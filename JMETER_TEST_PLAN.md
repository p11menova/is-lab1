# JMeter Test Plan для проверки изоляции транзакций

## Описание тест-плана

Тест-план проверяет корректность изоляции транзакций при одновременной работе нескольких пользователей.

## Тестовые сценарии

### 1. Concurrent Create Test
- **Цель**: Проверить создание объектов при одновременном доступе
- **Параметры**: 10 потоков, 5 итераций
- **Действие**: Создание фильмов с уникальными именами

### 2. Concurrent Update Test
- **Цель**: Проверить обновление одного объекта несколькими пользователями
- **Параметры**: 5 потоков, 3 итерации
- **Действие**: Одновременное обновление одного и того же фильма

### 3. Concurrent Delete Test
- **Цель**: Проверить удаление объектов при конкурентном доступе
- **Параметры**: 3 потока, 2 итерации
- **Действие**: Удаление различных фильмов

### 4. Unique Constraint Test
- **Цель**: Проверить соблюдение ограничений уникальности
- **Параметры**: 5 потоков, одновременное выполнение
- **Действие**: Попытка создать объекты с одинаковыми уникальными значениями

## Как запустить

1. Установите Apache JMeter
2. Откройте файл `jmeter-test-plan.jmx`
3. Измените `BASE_URL` в User Defined Variables при необходимости
4. Запустите тест (Run → Start)
5. Просмотрите результаты в Summary Report и View Results Tree

## Ожидаемые результаты

- Все операции создания должны завершиться успешно (200/201)
- При обновлении/удалении одного объекта должна быть корректная обработка конфликтов
- При попытке создать объекты с одинаковыми уникальными значениями должна быть ошибка валидации (400)

## Анализ результатов

После выполнения тестов необходимо:
1. Проверить количество успешных/неуспешных запросов
2. Убедиться, что ограничения уникальности соблюдаются
3. Проверить отсутствие дубликатов в БД
4. При необходимости изменить уровень изоляции транзакций в коде

