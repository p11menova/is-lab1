# –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (–ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)

**Movie**: –ö–æ–º–±–∏–Ω–∞—Ü–∏—è `(name, operator.id, director.id)` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `UniqueConstraintService.validateMovieUniqueness()`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ñ–∏–ª—å–º–æ–≤
- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏: "Movie with name 'X' already exists with the same operator and director"

**Person**: –ö–æ–º–±–∏–Ω–∞—Ü–∏—è `(name, birthday)` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `UniqueConstraintService.validatePersonUniqueness()`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä—Å–æ–Ω
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ null –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è birthday

### 2. –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç –æ–±—ä–µ–∫—Ç–æ–≤

**–§–æ—Ä–º–∞—Ç**: JSON –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- –≠–Ω–¥–ø–æ–∏–Ω—Ç: `POST /import/movies` –∏ `POST /import/persons`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, —Ä–µ–∂–∏—Å—Å—ë—Ä—ã, —Å—Ü–µ–Ω–∞—Ä–∏—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞: –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è (`@Transactional` —Å `rollbackOn = Exception.class`)
- –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

**–ü—Ä–∏–º–µ—Ä JSON –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ —Ñ–∏–ª—å–º–æ–≤:**
```json
[
  {
    "name": "Movie 1",
    "genre": "ACTION",
    "mpaaRating": "PG",
    "oscarsCount": 5,
    "budget": 1000000.0,
    "goldenPalmCount": 1,
    "coordinates": {"x": 10, "y": 20},
    "operator": {
      "name": "Operator Name",
      "hairColor": "BLACK",
      "location": {"x": 1, "y": 2.0, "z": 3.0}
    },
    "director": {
      "name": "Director Name",
      "hairColor": "BLACK",
      "location": {"x": 1, "y": 2.0, "z": 3.0}
    }
  }
]
```

### 3. –ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–∞

**–ú–æ–¥–µ–ª—å**: `ImportHistory`
- –ü–æ–ª—è: id, username, importDate, status, objectsCount, fileName, errorMessage
- –°—Ç–∞—Ç—É—Å—ã: SUCCESS, FAILED, IN_PROGRESS

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã**:
- `GET /import/history?username=X` - –∏—Å—Ç–æ—Ä–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /import/history?admin=true` - –≤—Å—è –∏—Å—Ç–æ—Ä–∏—è (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
- `GET /import/history/{id}` - –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞

**UI**: –í–∫–ª–∞–¥–∫–∞ "Import" —Å —Ç–∞–±–ª–∏—Ü–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –∏–º–ø–æ—Ä—Ç–∞

### 4. UI –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
- –í–∫–ª–∞–¥–∫–∞ "Import" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ JSON —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ñ–∏–ª—å–º–æ–≤ –∏ –ø–µ—Ä—Å–æ–Ω
- –¢–∞–±–ª–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–º–ø–æ—Ä—Ç–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é/–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤, –æ—à–∏–±–æ–∫, –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

### 5. JMeter —Ç–µ—Å—Ç-–ø–ª–∞–Ω

**–§–∞–π–ª**: `jmeter-test-plan.jmx`

**–°—Ü–µ–Ω–∞—Ä–∏–∏**:
1. **Concurrent Create Test** - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ (10 –ø–æ—Ç–æ–∫–æ–≤)
2. **Concurrent Update Test** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (5 –ø–æ—Ç–æ–∫–æ–≤)
3. **Concurrent Delete Test** - —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ (3 –ø–æ—Ç–æ–∫–∞)
4. **Unique Constraint Test** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±–ª—é–¥–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (5 –ø–æ—Ç–æ–∫–æ–≤)

**–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å**:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Apache JMeter
2. –û—Ç–∫—Ä–æ–π—Ç–µ `jmeter-test-plan.jmx`
3. –ò–∑–º–µ–Ω–∏—Ç–µ BASE_URL –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–º–ø–æ—Ä—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:
- `@Transactional(value = TxType.REQUIRED, rollbackOn = Exception.class)`
- –ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è
- –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (READ_COMMITTED –¥–ª—è PostgreSQL)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–Ω–µ –≤ –ë–î)
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è JPQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
- –ü—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ –≤–æ–∑–º–æ–∂–Ω—ã race conditions (–¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –Ω—É–∂–Ω—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–∑–æ–ª—è—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

–î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `SERIALIZABLE` —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (`@Version`)
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (`LockModeType.PESSIMISTIC_WRITE`)

## üìù –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

### Backend
- `models/ImportHistory.java` - –º–æ–¥–µ–ª—å –∏—Å—Ç–æ—Ä–∏–∏ –∏–º–ø–æ—Ä—Ç–∞
- `service/ImportService.java` - —Å–µ—Ä–≤–∏—Å –∏–º–ø–æ—Ä—Ç–∞
- `service/UniqueConstraintService.java` - —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
- `repository/ImportHistoryRepository.java` - —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏—Å—Ç–æ—Ä–∏–∏
- `rest/ImportResource.java` - REST —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏–º–ø–æ—Ä—Ç–∞

### Frontend
- `src/App.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ Import –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–º–ø–æ—Ä—Ç–∞
- `src/App.css` - —Å—Ç–∏–ª–∏ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

### –¢–µ—Å—Ç—ã
- `jmeter-test-plan.jmx` - JMeter —Ç–µ—Å—Ç-–ø–ª–∞–Ω
- `JMETER_TEST_PLAN.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∞–º

## üöÄ –ó–∞–ø—É—Å–∫

1. **Backend**: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ –∏ –∑–∞–¥–µ–ø–ª–æ–π WAR –≤ WildFly
2. **Frontend**: `cd frontend && npm run dev`
3. **JMeter**: –û—Ç–∫—Ä–æ–π `jmeter-test-plan.jmx` –∏ –∑–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç—ã

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –ø–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Import"
2. –°–æ–∑–¥–∞–π JSON —Ñ–∞–π–ª —Å —Ñ–∏–ª—å–º–∞–º–∏/–ø–µ—Ä—Å–æ–Ω–∞–º–∏
3. –ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ UI
4. –ü—Ä–æ–≤–µ—Ä—å –∏—Å—Ç–æ—Ä–∏—é –∏–º–ø–æ—Ä—Ç–∞
5. –ó–∞–ø—É—Å—Ç–∏ JMeter —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

